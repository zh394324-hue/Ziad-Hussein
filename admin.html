<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
<link rel="icon" href="./1.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Ø²ÙŠØ§Ø¯ Ø­Ø³ÙŠÙ†</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { font-family: 'Cairo', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); }
        .nav-link:hover { background: rgba(102, 126, 234, 0.2); }
        .stat-card { transition: all 0.3s ease; }
        .stat-card:hover { transform: scale(1.05); }
        .work-card { transition: all 0.3s ease; }
        .work-card:hover { box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2); }
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #10b981;
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 1000;
            transition: transform 0.3s ease;
            font-size: 14px;
            text-align: center;
            max-width: 90%;
        }
        .toast.show { transform: translateX(-50%) translateY(0); }
        .toast.error { background: #ef4444; }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
            .stat-card { padding: 1rem; }
            .stat-card i { font-size: 1.5rem; }
            .stat-card .text-3xl { font-size: 1.5rem; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Auth Check -->
    <div id="authCheck" class="fixed inset-0 bg-gray-900 z-50 flex items-center justify-center">
        <div class="text-center p-6">
            <div class="w-20 h-20 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                <i class="fas fa-shield-alt text-3xl"></i>
            </div>
            <p class="text-gray-400">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</p>
        </div>
    </div>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800">
        <div class="container mx-auto px-4 md:px-6 py-3 md:py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2 md:gap-3">
                    <img src="1.png" alt="Logo" class="w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-purple-500">
                    <span class="text-lg md:text-xl font-bold gradient-text">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                </div>
                <div class="flex gap-1 md:gap-2 flex-wrap">
                    <a href="index.html" class="nav-link px-3 md:px-4 py-2 rounded-full text-xs md:text-sm font-semibold transition-all">
                        <i class="fas fa-home md:ml-2"></i><span class="hidden md:inline">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                    </a>
                    <a href="portfolio.html" class="nav-link px-3 md:px-4 py-2 rounded-full text-xs md:text-sm font-semibold transition-all">
                        <i class="fas fa-briefcase md:ml-2"></i><span class="hidden md:inline">Ø£Ø¹Ù…Ø§Ù„ÙŠ</span>
                    </a>
                    <button onclick="logout()" class="nav-link px-3 md:px-4 py-2 rounded-full text-xs md:text-sm font-semibold transition-all bg-red-600/20 text-red-400 hover:bg-red-600/40">
                        <i class="fas fa-sign-out-alt md:ml-2"></i><span class="hidden md:inline">Ø®Ø±ÙˆØ¬</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <section class="pt-24 md:pt-28 pb-12">
        <div class="container mx-auto px-4 md:px-6">
            <h1 class="text-2xl md:text-4xl font-bold text-center mb-2 md:mb-4">
                <i class="fas fa-cog ml-2 md:ml-3 text-purple-400"></i>
                Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            </h1>
            <p class="text-gray-400 text-center mb-8 md:mb-12 text-sm md:text-base">Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„Ùƒ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</p>

            <!-- Stats Cards -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-8 md:mb-12">
                <div class="stat-card bg-gradient-to-br from-purple-600 to-purple-800 rounded-xl md:rounded-2xl p-4 md:p-6 text-center">
                    <i class="fas fa-images text-2xl md:text-4xl mb-2 md:mb-3 opacity-80"></i>
                    <div class="text-xl md:text-3xl font-bold mb-1" id="works-count">0</div>
                    <p class="opacity-80 text-xs md:text-base">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</p>
                </div>
                <div class="stat-card bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl md:rounded-2xl p-4 md:p-6 text-center">
                    <i class="fas fa-users text-2xl md:text-4xl mb-2 md:mb-3 opacity-80"></i>
                    <div class="text-xl md:text-3xl font-bold mb-1" id="visitors-count">0</div>
                    <p class="opacity-80 text-xs md:text-base">Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±</p>
                </div>
                <div class="stat-card bg-gradient-to-br from-green-600 to-green-800 rounded-xl md:rounded-2xl p-4 md:p-6 text-center">
                    <i class="fas fa-calendar text-2xl md:text-4xl mb-2 md:mb-3 opacity-80"></i>
                    <div class="text-lg md:text-3xl font-bold mb-1" id="today-date">-</div>
                    <p class="opacity-80 text-xs md:text-base">ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…</p>
                </div>
                <div class="stat-card bg-gradient-to-br from-pink-600 to-pink-800 rounded-xl md:rounded-2xl p-4 md:p-6 text-center">
                    <i class="fas fa-clock text-2xl md:text-4xl mb-2 md:mb-3 opacity-80"></i>
                    <div class="text-lg md:text-3xl font-bold mb-1" id="current-time">-</div>
                    <p class="opacity-80 text-xs md:text-base">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ</p>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-6 md:gap-8">
                <!-- Add New Work -->
                <div class="bg-gray-800 rounded-2xl md:rounded-3xl p-5 md:p-8 border border-gray-700">
                    <h2 class="text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center">
                        <i class="fas fa-code ml-2 md:ml-3 text-green-400"></i>
                        Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ (ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯)
                    </h2>
                    <form id="add-work-form" class="space-y-4 md:space-y-6">
                        <div>
                            <label class="block text-gray-300 mb-2 font-semibold text-sm md:text-base">
                                <i class="fas fa-heading ml-2 text-purple-400"></i>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„
                            </label>
                            <input type="text" id="work-title" required
                                class="w-full bg-gray-700 border border-gray-600 rounded-xl px-4 py-3 focus:outline-none focus:border-purple-500 transition-all text-sm md:text-base"
                                placeholder="Ù…Ø«Ø§Ù„: ØªØµÙ…ÙŠÙ… Ù„ÙˆØ¬Ùˆ Ø´Ø±ÙƒØ© ABC">
                        </div>
                        <div>
                            <label class="block text-gray-300 mb-2 font-semibold text-sm md:text-base">
                                <i class="fas fa-align-left ml-2 text-purple-400"></i>ÙˆØµÙ Ø§Ù„Ø¹Ù…Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                            </label>
                            <textarea id="work-description" rows="3"
                                class="w-full bg-gray-700 border border-gray-600 rounded-xl px-4 py-3 focus:outline-none focus:border-purple-500 transition-all resize-none text-sm md:text-base"
                                placeholder="ÙˆØµÙ Ù‚ØµÙŠØ± Ù„Ù„Ø¹Ù…Ù„..."></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-300 mb-2 font-semibold text-sm md:text-base">
                                <i class="fas fa-image ml-2 text-purple-400"></i>ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù…Ù„
                            </label>
                            <div class="relative">
                                <input type="file" id="work-image" accept="image/*" required
                                    class="hidden" onchange="previewImage(this)">
                                <label for="work-image" 
                                    class="block w-full bg-gray-700 border-2 border-dashed border-gray-600 rounded-xl p-6 md:p-8 text-center cursor-pointer hover:border-purple-500 transition-all">
                                    <div id="upload-placeholder">
                                        <i class="fas fa-cloud-upload-alt text-3xl md:text-4xl text-gray-500 mb-2 md:mb-3"></i>
                                        <p class="text-gray-400 text-sm md:text-base">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©</p>
                                        <p class="text-gray-500 text-xs md:text-sm mt-1 md:mt-2">PNG, JPG Ø­ØªÙ‰ 5MB</p>
                                    </div>
                                    <img id="image-preview" src="" alt="" class="hidden max-h-40 md:max-h-48 mx-auto rounded-lg">
                                </label>
                            </div>
                        </div>
                        <button type="submit" class="w-full gradient-bg py-3 md:py-4 rounded-xl font-bold text-base md:text-lg hover:opacity-90 transition-all">
                            <i class="fas fa-code ml-2"></i>ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„
                        </button>
                    </form>
                </div>

                <!-- Manage Works -->
                <div class="bg-gray-800 rounded-2xl md:rounded-3xl p-5 md:p-8 border border-gray-700">
                    <div class="flex items-center justify-between mb-4 md:mb-6">
                        <h2 class="text-xl md:text-2xl font-bold flex items-center">
                            <i class="fas fa-list ml-2 md:ml-3 text-blue-400"></i>
                            Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
                        </h2>
                        <button onclick="deleteAllWorks()" class="bg-red-600 hover:bg-red-700 px-3 md:px-4 py-2 rounded-lg text-xs md:text-sm font-semibold transition-all">
                            <i class="fas fa-trash md:ml-2"></i><span class="hidden md:inline">Ø­Ø°Ù Ø§Ù„ÙƒÙ„</span>
                        </button>
                    </div>
                    
                    <div id="works-list" class="space-y-3 md:space-y-4 max-h-80 md:max-h-96 overflow-y-auto">
                        <!-- Works will be loaded here -->
                    </div>
                    
                    <div id="no-works" class="hidden text-center py-8 md:py-12">
                        <i class="fas fa-inbox text-4xl md:text-5xl text-gray-600 mb-3 md:mb-4"></i>
                        <p class="text-gray-400 text-sm md:text-base">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø¹Ø¯</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="mt-6 md:mt-8 bg-gray-800 rounded-2xl md:rounded-3xl p-5 md:p-8 border border-gray-700">
                <h2 class="text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center">
                    <i class="fas fa-bolt ml-2 md:ml-3 text-yellow-400"></i>
                    Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4">
                    <a href="generate-code.html" class="bg-gradient-to-br from-green-600 to-green-800 hover:opacity-90 p-3 md:p-4 rounded-xl text-center font-semibold transition-all block">
                        <i class="fas fa-magic text-xl md:text-2xl mb-1 md:mb-2"></i>
                        <p class="text-xs md:text-base">Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙˆØ¯ âš¡</p>
                    </a>
                    <a href="portfolio.html" class="bg-purple-600 hover:bg-purple-700 p-3 md:p-4 rounded-xl text-center font-semibold transition-all block">
                        <i class="fas fa-eye text-xl md:text-2xl mb-1 md:mb-2"></i>
                        <p class="text-xs md:text-base">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</p>
                    </a>
                    <button onclick="resetVisitors()" class="bg-blue-600 hover:bg-blue-700 p-3 md:p-4 rounded-xl text-center font-semibold transition-all w-full">
                        <i class="fas fa-redo text-xl md:text-2xl mb-1 md:mb-2"></i>
                        <p class="text-xs md:text-base">ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²ÙˆØ§Ø±</p>
                    </button>
                    <a href="works.js" target="_blank" class="bg-yellow-600 hover:bg-yellow-700 p-3 md:p-4 rounded-xl text-center font-semibold transition-all block">
                        <i class="fas fa-file-code text-xl md:text-2xl mb-1 md:mb-2"></i>
                        <p class="text-xs md:text-base">ÙØªØ­ works.js</p>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle ml-2"></i>
        <span id="toast-message">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</span>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 py-8 border-t border-gray-700">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-400">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø²ÙŠØ§Ø¯ Ø­Ø³ÙŠÙ† Â© 2024</p>
        </div>
    </footer>

    <!-- Load Works Data -->
    <script src="works.js"></script>
    <script>
        // Check Authentication
        document.addEventListener('DOMContentLoaded', function() {
            const isAuth = sessionStorage.getItem('adminAuth');
            if (isAuth !== 'true') {
                window.location.href = 'index.html';
                return;
            }
            // Hide auth check overlay
            document.getElementById('authCheck').style.display = 'none';
            
            loadStats();
            loadWorksList();
            updateDateTime();
            setInterval(updateDateTime, 1000);
        });
        
        // Logout Function
        function logout() {
            sessionStorage.removeItem('adminAuth');
            window.location.href = 'index.html';
        }

        // Update Date & Time
        function updateDateTime() {
            const now = new Date();
            const options = { day: 'numeric', month: 'short' };
            document.getElementById('today-date').textContent = now.toLocaleDateString('ar-EG', options);
            document.getElementById('current-time').textContent = now.toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });
        }

        // Load Statistics
        function loadStats() {
            // Read from works.js
            const works = typeof portfolioWorks !== 'undefined' ? portfolioWorks : [];
            const visitors = localStorage.getItem('visitorCount') || 0;
            
            document.getElementById('works-count').textContent = works.length;
            document.getElementById('visitors-count').textContent = visitors;
        }

        // Load Works List
        function loadWorksList() {
            const works = typeof portfolioWorks !== 'undefined' ? portfolioWorks : [];
            const container = document.getElementById('works-list');
            const noWorks = document.getElementById('no-works');
            
            if (works.length === 0) {
                container.classList.add('hidden');
                noWorks.classList.remove('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            noWorks.classList.add('hidden');
            
            container.innerHTML = works.map((work, index) => `
                <div class="work-card bg-gray-700 rounded-xl p-3 md:p-4 flex items-center gap-3 md:gap-4">
                    <img src="${work.image}" alt="${work.title}" class="w-12 h-12 md:w-16 md:h-16 object-cover rounded-lg flex-shrink-0">
                    <div class="flex-1 min-w-0">
                        <h3 class="font-bold text-sm md:text-base truncate">${work.title}</h3>
                        <p class="text-gray-400 text-xs md:text-sm truncate">${work.description || 'Ø¨Ø¯ÙˆÙ† ÙˆØµÙ'}</p>
                    </div>
                </div>
            `).join('');
        }

        // Preview Image
        function previewImage(input) {
            const preview = document.getElementById('image-preview');
            const placeholder = document.getElementById('upload-placeholder');
            
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Generate Code (Instead of Add Work)
        document.getElementById('add-work-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('work-title').value;
            const description = document.getElementById('work-description').value;
            const imageInput = document.getElementById('work-image');
            
            // Get just the filename
            const imageName = imageInput.files[0] ? imageInput.files[0].name : "Ø§Ø³Ù…_Ø§Ù„ØµÙˆØ±Ø©.jpg";

            const codeSnippet = `
    {
        title: "${title}",
        image: "${imageName}",
        description: "${description}"
    },`;
            
            // Show result
            prompt("Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ù…Ù„Ù works.js:", codeSnippet);
            showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯! Ø§Ù†Ø³Ø®Ù‡ Ø§Ù„Ø¢Ù† ğŸ“‹');
        });

        // Delete Work
        function deleteWork(index) {
            alert('Ù„Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§ÙØªØ­ Ù…Ù„Ù works.js ÙˆØ§Ù…Ø³Ø­ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡.');
        }

        // Delete All Works
        function deleteAllWorks() {
             alert('Ù„Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ØŒ Ø§ÙØªØ­ Ù…Ù„Ù works.js ÙˆØ§Ù…Ø³Ø­ Ù…Ø­ØªÙˆÙŠØ§ØªÙ‡.');
        }

        // Reset Visitors
        function resetVisitors() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±ØŸ')) {
                localStorage.setItem('visitorCount', '0');
                loadStats();
                showToast('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±! ğŸ”„');
            }
        }

        // Export Data (Modified to Download works.js)
        function exportData() {
           alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ù…Ù„Ù works.js');
        }

        // Show Toast
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            toastMessage.textContent = message;
            toast.classList.toggle('error', isError);
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
